<%page expression_filter="h"/>
<%inherit file="survey-base.html" />
<%def name="online_help_token()"><% return "certificates" %></%def>
<%namespace name='static' file='static_content.html'/>



<%!
from cms.djangoapps.contentstore import utils
from django.utils.translation import gettext as _
from openedx.core.djangolib.markup import HTML, Text
from openedx.core.djangolib.js_utils import (
    dump_js_escaped_json, js_escaped_string
)
import six
from six.moves.urllib.parse import quote


%>

<%block name="title">Course About</%block>




<%block name="content"> 

<style>
    table {
        font-family: arial, sans-serif;
        border-collapse: collapse;
        width: 100%;
      }
      
      td, th {
        border: 1px solid #dddddd;
        text-align: left;
        padding: 8px;
      }
      

</style>
<div class="wrapper-mast wrapper">
    <header class="mast has-actions has-subtitle">
      <h1 class="page-header">
        Setting Course Overview
      </h1>
    </header>

    <div class="wrapper-content wrapper">
        <section class="content">
            <article class="content-primary" role="main">
              <div class="wrapper-certificates certificates-list">
                  <div class="notice notice-incontext notice-moduledisabled" style="background: #ffff; padding:60px; " >
                        <div id="contet-setting-survey">

                            <form method="POST" >
                                <input type="hidden" id="csrf_token" name="csrfmiddlewaretoken" value="${csrf_token}">
                                <div>
                                    <p>Tổng quan</p>
                                    <textarea name="overview" id="overview" >
                                        %if overview :
                                            ${overview}
                                        %endif
                                    </textarea>
                                </div>
                                <div>
                                    <p>Mục tiêu môn học</p>
                                        <textarea name="target_course" id="target_course">
                                            %if target :
                                                ${target}
                                            %endif
                                        </textarea>
                                </div>
                        
                                <div>
                                    <p>Đối tượng tham gia</p>
                                        <textarea name="participant_course" id="participant_course">
                                            %if participant :
                                                ${participant}
                                            %endif
                                        </textarea>
                                </div>
                        
                                <div>
                                    <p>Yêu cầu đầu vào</p>
                                        <textarea name="input_required" id="input_required">
                                            %if input_required :
                                                ${input_required}
                                             %endif
                                        </textarea>
                                </div>
                    
                                <div>
                                    <h1>Teacher</h1>

                                    <table>
                                        <tr>
                                          <th>Tên</th>
                                          <th>Chức vụ</th>
                                          <th>Nơi làm việc</th>
                                         
                                          <th>Xoá</th>
                                        </tr>
                                        %if course_teachers is not None :
                                        %for teacher in course_teachers:
                                        <tr >
                                            <td>${teacher.name}</td>
                                            <td>${teacher.position}</td>
                                            <td>${teacher.workplace}</td>
                                            <td><button type='button' onclick='deleteTeacher(${teacher.id}, this)'>Delete</button></td>
                                          </tr>
                                           
                                        %endfor
                                    %endif
                                       

                                      </table>
                                    <div >
                                       
                    
                                    </div>
                                    <div class=''>
                                        <span>Tên : </span>
                                        <input name='name' type='text' id='name' />
                                    </div>
                    
                                    <div class=''>
                                        <span>Chức vụ : </span>
                                        <input name='position' type='text' id='position' />
                                    </div>
                    
                                    <div class=''>
                                        <span>Nơi làm việc : </span>
                                        <input name='workplace' type='text' id='workplace' />
                                    </div>
                    
                                    <div class=''>
                                        <span>hình ảnh (url) : </span>
                                        <input name='img' type='url' id='img' />
                                    </div>
                                    <div>
                                        <span for="sex">giớ tính:</span>
                    
                                            <select name="sex" id="sex">
                                                <option value=>Select a gender</option>
                                                <option value="male">Nam</option>
                                                <option value="female">Nữ</option>
                                            </select>
                                    </div>
                                    <div>
                                        <input type="checkbox" id="isTeacherStart" name="isTeacherStart" value="isTeacherStart">
                                        <label for="vehicle1">Teacher Start (Diễn giả)  </label><br>
                                        <span>xây dựng khoá học</span><br>
                                        <input type="checkbox" id="isDesign" name="isDesign" value="isDesign">
                                        <label for="vehicle2"> Chuyên gia thiết kế</label><br>
                                        <input type="checkbox" id="isExpert" name="isExpert" value="isExpert">
                                        <label for="vehicle3"> Chuyên gia phản biện</label><br>
                                    </div>
                                </div>
                        
                                <button type="submit">
                                    Save
                                </button>
                            </from>
                        </div>
                  </div>
              </div>
            </article>
          </section>
    </div>




    
    


    
</div>

<script >

    

    function initTinyMCE(selector){
        tinymce.init({
            selector: `textarea` + selector,
            plugins: 'autoresize lists ', 
            toolbar: 'undo redo | blocks fontfamily fontsize | formatselect | bold italic | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | link image liButton',
            autoresize_bottom_margin: 16,
            menubar: false
        });
    }


    document.addEventListener('DOMContentLoaded', function () {
        initTinyMCE('#overview');
        initTinyMCE('#target_course');
        initTinyMCE('#participant_course');
        initTinyMCE('#input_required');
        
    });
   
    function deleteTeacher (id, element){
        const apiUrl = '/api/overview/about/remove_teacher';
        const csrfToken = document.getElementById('csrf_token').value
        element.closest('tr').remove();

       const requestData = {
        teacherId: id, 
    };
    fetch(apiUrl, {
        method: 'POST',
        headers: {
            'Content-Type': 'application/json',
            'X-CSRFToken': csrfToken,
        },
        body: JSON.stringify(requestData),
    })
    .then(response => {
        
    })
    .catch(error => {
        console.error('Error:', error);
    });
    }

</script>
</%block>

